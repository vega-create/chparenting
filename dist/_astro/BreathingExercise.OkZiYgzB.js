import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.DiEladB3.js";const c=[{phase:"inhale",duration:4,label:"å¸æ°£",color:"#E8A87C"},{phase:"hold",duration:4,label:"åœä½",color:"#D4B896"},{phase:"exhale",duration:6,label:"åæ°£",color:"#8BA888"}];function R(){const[t,f]=n.useState(!1),[s,d]=n.useState("idle"),[m,x]=n.useState(0),[r,p]=n.useState(0),[a]=n.useState(13),l=n.useRef(null),i=n.useRef(0);n.useEffect(()=>{if(!t)return;if(r>=a){f(!1),d("idle"),p(0);return}const h=c[i.current];return d(h.phase),x(h.duration),l.current=setInterval(()=>{x(o=>{if(o<=1){i.current=(i.current+1)%c.length,i.current===0&&p(S=>S+1);const g=c[i.current];return d(g.phase),g.duration}return o-1})},1e3),()=>{l.current&&clearInterval(l.current)}},[t,r,a]);const b=()=>{i.current=0,p(0),f(!0)},y=()=>{f(!1),d("idle"),l.current&&clearInterval(l.current)},A=()=>s==="inhale"||s==="hold"?1.4:1,u=()=>c.find(o=>o.phase===s)?.color||"#E8A87C",j=()=>c.find(o=>o.phase===s)?.label||"";return e.jsxs("div",{style:{textAlign:"center",padding:"2rem",fontFamily:"Noto Sans TC, sans-serif"},children:[e.jsx("div",{style:{position:"relative",width:240,height:240,margin:"0 auto 2rem"},children:e.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:`radial-gradient(circle, ${u()}25, ${u()}08)`,border:`3px solid ${u()}40`,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",transform:`scale(${A()})`,transition:`transform ${s==="inhale"?"4s":s==="exhale"?"6s":"0.3s"} ease-in-out`},children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:32,fontWeight:700,color:u(),fontFamily:"Quicksand, sans-serif"},children:m}),e.jsx("span",{style:{fontSize:16,color:"#5A4E42",marginTop:4,fontWeight:500},children:j()})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:40},children:"ğŸ«"}),e.jsx("span",{style:{fontSize:14,color:"#9A8A7A",marginTop:8},children:r>0?"åšå¾—å¥½ï¼":"æº–å‚™å¥½äº†å—ï¼Ÿ"})]})})}),t&&e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("div",{style:{width:200,height:4,background:"#EDE5DB",borderRadius:2,margin:"0 auto"},children:e.jsx("div",{style:{width:`${r/a*100}%`,height:"100%",background:"#E8A87C",borderRadius:2,transition:"width 0.5s"}})}),e.jsxs("p",{style:{fontSize:12,color:"#9A8A7A",marginTop:8},children:["ç¬¬ ",r+1," / ",a," æ¬¡å‘¼å¸"]})]}),e.jsx("button",{onClick:t?y:b,style:{background:t?"#9A8A7A":"#E8A87C",color:"white",border:"none",padding:"12px 32px",borderRadius:999,fontSize:16,fontWeight:600,cursor:"pointer",fontFamily:"Quicksand, Noto Sans TC, sans-serif",boxShadow:`0 4px 20px ${t?"#9A8A7A30":"#E8A87C30"}`,transition:"all 0.3s"},children:t?"â¸ æš«åœ":r>0?"ğŸ”„ å†ä¾†ä¸€æ¬¡":"â–¶ é–‹å§‹å‘¼å¸"}),!t&&r===0&&e.jsx("div",{style:{marginTop:"2rem",padding:"1rem 1.5rem",background:"#F5F0EB",borderRadius:16,maxWidth:360,margin:"2rem auto 0"},children:e.jsxs("p",{style:{fontSize:13,color:"#7A6E62",lineHeight:1.8},children:["å¸æ°£ 4 ç§’ â†’ åœä½ 4 ç§’ â†’ åæ°£ 6 ç§’",e.jsx("br",{}),"è·Ÿè‘—åœ“åœˆçš„å¤§å°ä¸€èµ·å‘¼å¸ï¼Œå¤§ç´„ 3 åˆ†é˜"]})}),!t&&r>=a&&e.jsx("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#B8C4A015",borderRadius:16,border:"1px solid #B8C4A030",maxWidth:360,margin:"2rem auto 0"},children:e.jsxs("p",{style:{fontSize:14,color:"#5A4E42",lineHeight:1.8},children:["ğŸ‰ å¤ªæ£’äº†ï¼ä½ å®Œæˆäº† 3 åˆ†é˜çš„å‘¼å¸ç·´ç¿’ã€‚",e.jsx("br",{}),"æ„Ÿè¦ºå¥½ä¸€é»äº†å—ï¼Ÿè¨˜å¾—éš¨æ™‚å›ä¾†å……é›» â™¡"]})})]})}export{R as default};
